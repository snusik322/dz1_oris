# Клиент без блокировки

Давайте посмотрим на нашего клиента сейчас:

```python
while True:
    message = input("Введите сообщение: ")  # блокируется здесь
    client_socket.send(message.encode())
    
    data = client_socket.recv(1024)  # блокируется здесь
    print(f"Сервер: {data.decode()}")
```

В этом коде клиент зависает на input() или recv() и не видит новые сообщения

**Че ж делать? Че ж делать?...**

Два потока!)

1. Первый поток - только для чтения
2. Второй поток - только для ввода

## Задача №1
Реализовать клиента из предыдущей задачи, который:
* В одном потоке постоянно получает сообщения от сервера
* В другом потоке ожидает ввод пользователя
* Сообщения приходят, даже когда пользователь ничего не печатает

## Задача №2 (Домашнее задание)
Реализовать многопользовательский клиент для игры «Крестики-нолики» с возможностью игры в реальном времени против другого игрока и встроенным чатом
* Сервер поддерживает несколько клиентов одновременно, каждый клиент работает с сервером в двух потоках (ввод и приём сообщений)

**Основной функционал:** 
1. Подключение к игровому серверу 
2. Отображение игровой доски в реальном времени
3. Прием ходов противника без прерывания ввода 
4. Отправка своих ходов в любой момент 
5. Игровой чат с соперником

**Примерный интерфейс клиента (можно реализовать по-своему):** 
╔═══════════════════╗
║  КРЕСТИКИ-НОЛИКИ  ║
╠═══════════════════╣
║     1   2   3     ║
║   ┌───┬───┬───┐   ║
║ A │ X │   │ O │   ║
║   ├───┼───┼───┤   ║
║ B │   │ X │   │   ║
║   ├───┼───┼───┤   ║
║ C │ O │   │   │   ║
║   └───┴───┴───┘   ║
║                   ║
║ Ход: X (Ваш ход!) ║
║ Соперник: Player2 ║
║ Чат: Привет!      ║
╚═══════════════════╝
Введите команду: _

Команды игрока:
1. Ходы: A1, B2, C3 (буква+цифра)
2. Чат: chat Привет!
3. Статус: status
4. Выход: exit

**Обработка сообщений**
Сообщения от сервера:
* BOARD A1:X,A3:O,B2:X - обновление доски
* TURN X - чей сейчас ход
* CHAT opponent:Привет! - сообщение чата
* WIN X - победа
* DRAW - ничья
* OPPONENT Player2 - информация о сопернике

Сообщения от клиента:
* MOVE A1 - сделать ход
* CHAT Привет! - отправить сообщение
* STATUS - запросить статус

**В целом скелет сервера и клиента я уже реализовала, осталось реализовать следующее:**
1. Создание комнаты / игры
    * Если есть игрок без соперника → соединить его с новым игроком
    * Создать доску 3×3 и установить текущий ход (X)
    * Сохранять информацию о соперниках и доске в словаре games
2. Обработка хода (MOVE)
   * Проверка корректности хода (клетка пустая и ходит правильный игрок)
   * Обновление доски 
   * Проверка победы (WIN X/O) или ничьей (DRAW)
   * Отправка обновлённой доски и информации о ходе обоим игрокам
3. Обработка чата (CHAT)
   * Сообщение отправляется только сопернику
   * Формат: CHAT <текст>
   * Клиент должен выводить сообщения соперника в консоль
4. Запрос состояния (STATUS)
   * Клиент может запросить текущую доску и чей ход сейчас
   * Сервер отправляет BOARD и TURN
5. Выход из игры (exit)
   * Клиент отправляет команду exit
   * Сервер удаляет игрока из списка клиентов и уведомляет соперника
   * Если игрок отключается неожиданно, сервер корректно завершает игру и удаляет данные из словаря games